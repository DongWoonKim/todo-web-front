{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { reactive, readonly } from \"vue\";\nlet Vue3GoogleOauth;\nVue3GoogleOauth = reactive({\n  isInit: false,\n  isAuthorized: false\n});\n\nconst googleAuth = function () {\n  function installClient() {\n    const apiUrl = 'https://apis.google.com/js/api.js';\n    return new Promise(resolve => {\n      let script = document.createElement('script');\n      script.src = apiUrl;\n\n      script.onreadystatechange = script.onload = function () {\n        if (!script.readyState || /loaded|complete/.test(script.readyState)) {\n          setTimeout(function () {\n            resolve();\n          }, 500);\n        }\n      };\n\n      document.getElementsByTagName('head')[0].appendChild(script);\n    });\n  }\n\n  function initClient(config) {\n    return new Promise((resolve, reject) => {\n      window.gapi.load('auth2', () => {\n        window.gapi.auth2.init(config).then(() => {\n          resolve(window.gapi);\n        }).catch(error => {\n          reject(error);\n        });\n      });\n    });\n  }\n\n  function Auth() {\n    if (!(this instanceof Auth)) return new Auth();\n    this.instance = null;\n    /* window.gapi.auth2.getAuthInstance() */\n\n    this.load = config => {\n      installClient().then(() => {\n        return initClient(config);\n      }).then(gapi => {\n        this.instance = gapi.auth2.getAuthInstance();\n        this.prompt = config.prompt;\n        Vue3GoogleOauth.instance = gapi.auth2.getAuthInstance();\n        Vue3GoogleOauth.isInit = true;\n        Vue3GoogleOauth.isAuthorized = this.instance.isSignedIn.get();\n      }).catch(error => {\n        console.error(error);\n      });\n    };\n\n    this.signIn = () => {\n      return new Promise((resolve, reject) => {\n        if (!this.instance) {\n          reject(false);\n          return;\n        }\n\n        this.instance.signIn().then(googleUser => {\n          Vue3GoogleOauth.isAuthorized = this.instance.isSignedIn.get();\n          resolve(googleUser);\n        }).catch(error => {\n          reject(error);\n        });\n      });\n    };\n\n    this.getAuthCode = () => {\n      return new Promise((resolve, reject) => {\n        if (!this.instance) {\n          reject(false);\n          return;\n        }\n\n        this.instance.grantOfflineAccess({\n          prompt: this.prompt\n        }).then(function (resp) {\n          resolve(resp.code);\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    };\n\n    this.signOut = () => {\n      return new Promise((resolve, reject) => {\n        if (!this.instance) {\n          reject(false);\n          return;\n        }\n\n        this.instance.signOut().then(() => {\n          Vue3GoogleOauth.isAuthorized = false;\n          resolve(true);\n        }).catch(error => {\n          reject(error);\n        });\n      });\n    };\n  }\n\n  return new Auth();\n}();\n\nexport default {\n  install: (app, options) => {\n    /* eslint-disable */\n    //set config\n    let config = null;\n    let defaultConfig = {\n      scope: 'profile email',\n      prompt: 'select_account'\n    };\n\n    if (typeof options === 'object') {\n      config = Object.assign(defaultConfig, options);\n\n      if (!options.clientId) {\n        throw new Error('clientId is required');\n      }\n    } else {\n      throw new TypeError('invalid option type. Object type accepted only');\n    } //Install Vue plugin\n\n\n    googleAuth.load(config);\n    app.config.globalProperties.$gAuth = googleAuth;\n    app.provide('Vue3GoogleOauth', readonly(Vue3GoogleOauth));\n  }\n};","map":{"version":3,"names":["reactive","readonly","Vue3GoogleOauth","isInit","isAuthorized","googleAuth","installClient","apiUrl","Promise","resolve","script","document","createElement","src","onreadystatechange","onload","readyState","test","setTimeout","getElementsByTagName","appendChild","initClient","config","reject","window","gapi","load","auth2","init","then","catch","error","Auth","instance","getAuthInstance","prompt","isSignedIn","get","console","signIn","googleUser","getAuthCode","grantOfflineAccess","resp","code","signOut","install","app","options","defaultConfig","scope","Object","assign","clientId","Error","TypeError","globalProperties","$gAuth","provide"],"sources":["/Users/kdw/Documents/todo/todo-front/node_modules/vue3-google-oauth2/index.js"],"sourcesContent":["import { reactive, readonly } from \"vue\";\nlet Vue3GoogleOauth;\nVue3GoogleOauth = reactive({\n  isInit: false,\n  isAuthorized: false,\n})\nconst googleAuth = (function () {\n\n  function installClient() {\n    const apiUrl = 'https://apis.google.com/js/api.js';\n    return new Promise((resolve) => {\n      let script = document.createElement('script');\n      script.src = apiUrl;\n      script.onreadystatechange = script.onload = function () {\n        if (!script.readyState || /loaded|complete/.test(script.readyState)) {\n          setTimeout(function () {\n            resolve()\n          }, 500)\n        }\n      }\n      document.getElementsByTagName('head')[0].appendChild(script);\n    })\n  }\n\n  function initClient(config) {\n    return new Promise((resolve, reject) => {\n      window.gapi.load('auth2', () => {\n        window.gapi.auth2.init(config)\n          .then(() => {\n            resolve(window.gapi);\n          }).catch((error) => {\n            reject(error);\n          })\n      })\n    })\n\n  }\n\n  function Auth() {\n    if (!(this instanceof Auth))\n      return new Auth();\n    this.instance = null; /* window.gapi.auth2.getAuthInstance() */\n    this.load = (config) => {\n      installClient()\n        .then(() => {\n          return initClient(config)\n        })\n        .then((gapi) => {\n          this.instance = gapi.auth2.getAuthInstance();\n\n          this.prompt = config.prompt;\n          Vue3GoogleOauth.instance = gapi.auth2.getAuthInstance();\n          Vue3GoogleOauth.isInit = true;\n          Vue3GoogleOauth.isAuthorized = this.instance.isSignedIn.get();\n        }).catch((error) => {\n          console.error(error);\n        })\n    };\n\n    this.signIn = () => {\n      return new Promise((resolve, reject) => {\n        if (!this.instance) {\n          reject(false)\n          return\n        }\n        this.instance.signIn()\n          .then(googleUser => {\n            Vue3GoogleOauth.isAuthorized = this.instance.isSignedIn.get();\n            resolve(googleUser);\n          })\n          .catch(error => {\n            reject(error);\n          })\n      })\n    };\n\n    this.getAuthCode = () => {\n      return new Promise((resolve, reject) => {\n        if (!this.instance) {\n          reject(false)\n          return\n        }\n        this.instance.grantOfflineAccess({ prompt: this.prompt })\n          .then(function (resp) {\n            resolve(resp.code)\n          })\n          .catch(function (error) {\n            reject(error)\n          })\n      })\n    };\n\n    this.signOut = () => {\n      return new Promise((resolve, reject) => {\n        if (!this.instance) {\n          reject(false)\n          return\n        }\n        this.instance.signOut()\n          .then(() => {\n            Vue3GoogleOauth.isAuthorized = false;\n            resolve(true)\n          })\n          .catch(error => {\n            reject(error)\n          })\n      })\n    };\n  }\n\n  return new Auth()\n})();\n\nexport default {\n  install: (app, options) => {\n    /* eslint-disable */\n    //set config\n    let config = null\n    let defaultConfig = { scope: 'profile email', prompt: 'select_account' };\n    if (typeof options === 'object') {\n      config = Object.assign(defaultConfig, options);\n      if (!options.clientId) {\n        throw new Error('clientId is required');\n      }\n    } else {\n      throw new TypeError('invalid option type. Object type accepted only');\n    }\n\n    //Install Vue plugin\n    googleAuth.load(config);\n    app.config.globalProperties.$gAuth = googleAuth;\n    app.provide('Vue3GoogleOauth', readonly(Vue3GoogleOauth));\n\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}